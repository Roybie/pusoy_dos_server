{% extends "base.html" %}
{% block title %}Games{% endblock title %}
{% block content %}
    <div class="game-panel">
        
        <div class="joined-games game-list">
            <h3><i class="fa fa-user"></i>&nbsp;&nbsp;My Games</h3>
            {% if num_games > 0  %}
                <div class="pure-g">
					{% for game in games %}
					<div class="my-game pure-u-1 pure-u-md-1-2">
						<div class="game-container {% if id == game.next_player_id %}my-go{% endif %}">
							<a href="/game/{{ game.id }}">
								<div class="header">
									<div class="id">
										<small>{{ game.id }}</small>
									</div>
								</div>
								<div class="summary">
									{% if game.started %}
									<span>
										
										{{game.next_player_name}}'s move

										{%if id == game.next_player_id %}
											<i class="fa fa-thumbs-o-up"></i>
										{% endif %}

									</span>


									<div class="cta">

										<div class="pure-button action-button">
											{%if id == game.next_player_id %}
												Play
											{% else %}
												View
											{% endif %}
										</div>
									</div>
									{% else %}
									<span>
										Waiting for {{game.creator_name}} to start the game
									</span>
                                    <div class="waiting"><i class="fa fa-spinner fa-spin"></i></div>
									{% endif %}

									
								</div>
                            </a>
						</div>
					</div>
				  	{% endfor %}	
                </div>
            {% else %}
                <p>No available games</p>
            {% endif %}
        </div>

        <div class="open-games game-list">
            <h3><i class="fa fa-globe"></i>&nbsp;&nbsp;Public Games</h3>
            <div class="list text-center">
            {% if num_open_games > 0 %}
                <div>
                        {% for game in open_games %}
                            <div class="pure-g open-game">
                                <div class="pure-u-1-8 id"><small>{{ game.id }}</small></div>
                                <div class="pure-u-5-8">{{ game.creator_name }}</div>
                                <div class="pure-u-1-4"><a class="pure-button" href="/game/{{ game.id }}">join</a></div>
                            </div>
                        {% endfor %}
                </div>
            {% else %}
                <p><em>No available games</em></p>
            {% endif %}
            </div>
        </div>

      <div class="game-menu">
            <a class="action-button pure-button" href="/new-game">
                <i class="fa fa-plus"></i>&nbsp;&nbsp;
                New Game
            </a>
        </div>

    </div>
{% endblock content %}

