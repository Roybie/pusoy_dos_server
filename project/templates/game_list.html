{% extends "base.html" %}
{% block title %}Games{% endblock title %}
{% block content %}
    <div class="game-panel">
        <div class="game-menu">
            <a class="button-primary pure-button" href="/new-game">
                <i class="fa fa-plus"></i>&nbsp;&nbsp;
                New Game
            </a>
        </div>

        <div class="joined-games game-list">
            <h3><i class="fa fa-user"></i>&nbsp;&nbsp;My Games</h3>
            {% if num_games > 0  %}
                <div class="pure-g">
					{% for game in games %}
					<div class="my-game pure-u-1 pure-u-md-1-2">
						<div class="game-container {% if id == game.next_player_id %}my-go{% endif %}">
							<a href="/game/{{ game.id }}">
								<div class="header">
									<div class="id">
										<small>{{ game.id }}</small>
									</div>
								</div>
								<div class="summary">
									{% if game.started %}
									<span>
										
										{{game.next_player_name}}'s move

										{%if id == game.next_player_id %}
											<i class="fa fa-thumbs-o-up"></i>
										{% endif %}

									</span>


									<div class="cta">

										<div class="pure-button action-button">
											{%if id == game.next_player_id %}
												Play
											{% else %}
												View
											{% endif %}
										</div>
									</div>
									{% else %}
									<span>
										Waiting for {{game.creator_name}} to start the game
									</span>
									{% endif %}

									
								</div>
                            </a>
						</div>
					</div>
				  	{% endfor %}	
                </div>
            {% else %}
                <p>No available games</p>
            {% endif %}
        </div>

        <div class="open-games game-list">
            <h3><i class="fa fa-globe"></i>&nbsp;&nbsp;Public Games</h3>
            {% if num_open_games > 0 %}
                <table class="pure-table pure-table-horizontal">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Owner</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for game in open_games %}
                            <tr>
                                <td>{{ game.id }}</td>
                                <td>{{ game.creator_name }}</td>
                                <td><a href="/game/{{ game.id }}">join</a></td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            {% else %}
                <p>No available games</p>
            {% endif %}
        </div>

    </div>
{% endblock content %}

